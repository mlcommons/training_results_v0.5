This model demonstrates using TPUEstimator to train the ShowAndTell image captioning model.

The original model source is from the Tensorflow models repository:

https://github.com/tensorflow/models/blob/master/research/im2txt/

You will need TFRecords from the COCO dataset for training.  These can be generated by following
the directions here:

https://cloud.google.com/tpu/docs/tutorials/retinanet#prepare_the_coco_dataset

To run the trainer:

python train.py\
  --tpu=$TPU_WORKER \
  --input_file_pattern=gs://bucket/mscoco-records/train-*\
  --model_dir=$MODEL_DIR\
  --train_steps=10000\
  --train_batch_size=1024


NOTE:

This version uses the non-reversible tf.strings.to_hash_bucket to hash captions to indices: it is
not usable for inference!