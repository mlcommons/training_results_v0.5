STARTING TIMING RUN AT 2018-11-15 12:21:59 PM
parallelism=28, random seed=1542313319, learning rate=0.003821, batch size=98304, beta1=0.783529, beta2=0.909003, max epoch=20, eps=1.45439E-07
unzip ml-20m.zip
Archive:  ml-20m.zip
  inflating: ml-20m/genome-scores.csv  
  inflating: ml-20m/genome-tags.csv  
  inflating: ml-20m/links.csv        
  inflating: ml-20m/movies.csv       
  inflating: ml-20m/ratings.csv      
  inflating: ml-20m/README.txt       
  inflating: ml-20m/tags.csv         
Start training
:::MLPv0.5.0 ncf 1542313327.013 (NeuralCFexample.scala:70) run_start
:::MLPv0.5.0 ncf 1542313327.018 (NeuralCFexample.scala:71) run_clear_caches
:::MLPv0.5.0 ncf 1542313327.048 (NeuralCFexample.scala:133) seed: 1542313319
2018-11-15 12:22:07 INFO  Engine$:107 - Detect bigdl.localMode is set. Run workload without spark
2018-11-15 12:22:07 INFO  ThreadPool$:86 - Set mkl threads to 1 on thread 1
:::MLPv0.5.0 ncf 1542313327.258 (NeuralCFexample.scala:138) opt_learning_rate: 0.003821
:::MLPv0.5.0 ncf 1542313327.258 (NeuralCFexample.scala:139) create_optim_method: {"name": "Adam", "lr": 0.003821, "beta1": 0.783529, "beta2": 0.909003, "eps": 1.45439E-7}
2018-11-15 12:22:07 INFO  EmbeddingAdam2$:335 - init power start
2018-11-15 12:22:07 INFO  EmbeddingAdam2$:342 - init power done
:::MLPv0.5.0 ncf 1542313365.870 (NeuralCFexample.scala:170) preproc_hp_num_eval: 999
:::MLPv0.5.0 ncf 1542313365.871 (NeuralCFexample.scala:171) preproc_hp_sample_eval_replacement
:::MLPv0.5.0 ncf 1542313368.931 (GenerateData.scala:187) preproc_hp_min_ratings: 20
2018-11-15 12:22:49 INFO  GenerateData$:216 - Compared with pytorch's test-ratings.csv, eval positive is different 18048 of 138493, so we use pytorch's test-rating.csv to stay the same with pytorch's test positive.
:::MLPv0.5.0 ncf 1542313369.237 (GenerateData.scala:219) input_hp_sample_train_replacement
:::MLPv0.5.0 ncf 1542313371.682 (GenerateData.scala:227) input_step_eval_neg_gen
:::MLPv0.5.0 ncf 1542313381.923 (NeuralCFexample.scala:186) model_hp_mf_dim: 64
:::MLPv0.5.0 ncf 1542313381.924 (NeuralCFexample.scala:187) model_hp_mlp_layer_sizes: "[256, 256, 128, 64]"
:::MLPv0.5.0 ncf 1542313387.625 (NeuralCFexample.scala:199) model_hp_loss_fn: "binary_cross_entropy"
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 1 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 2 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 3 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 4 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 5 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 6 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 7 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 8 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 9 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 10 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 11 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 12 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 13 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 14 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 15 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 16 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 17 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 18 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 19 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 20 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 21 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 22 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 23 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 24 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 25 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 26 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 27 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 28 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 1 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 2 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 3 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 4 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 5 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 6 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 7 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 8 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 9 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 10 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 11 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 12 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 13 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 14 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 15 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 16 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 17 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 18 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 19 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 20 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 21 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 22 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 23 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 24 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 25 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 26 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 27 model...
2018-11-15 12:23:07 INFO  NCFOptimizer2$:384 - Clone 28 model...
:::MLPv0.5.0 ncf 1542313388.039 (NCFOptimizer2.scala:105) train_loop
:::MLPv0.5.0 ncf 1542313388.195 (NCFDataSet.scala:38) input_hp_num_neg: 4
2018-11-15 12:23:10 INFO  NCFOptimizer2$:117 - Generate epoch 1 data: 2753 ms
2018-11-15 12:23:11 INFO  NCFOptimizer2$:120 - model thread pool size is 1
:::MLPv0.5.0 ncf 1542313391.111 (NCFOptimizer2.scala:125) train_epoch: 0
2018-11-15 12:26:23 INFO  NCFOptimizer2$:251 - [Epoch 1 99385344/99385344][Iteration 1012][Wall Clock 192.498569308s] loss is 0.12897931784391403, training cost 192.498569308s. Throughput is 516291.3384617538 record / second. 
:::MLPv0.5.0 ncf 1542313583.692 (NCFOptimizer2.scala:312) eval_start: 0
2018-11-15 12:26:23 INFO  NCFOptimizer2$:313 - [Epoch 1 99385344/99385344][Iteration 1012][Wall Clock 192.498569308s] Validate model...
2018-11-15 12:27:14 INFO  NCFOptimizer2$:358 - [Epoch 1 99385344/99385344][Iteration 1012][Wall Clock 192.498569308s] HitRatio@10 is (HitRatio@10: 74098.0, count: 138493, Average HitRatio@10: 0.53503066)
:::MLPv0.5.0 ncf 1542313634.054 (NCFOptimizer2.scala:359) eval_size: {"epoch": 0, "value": 138493000}
:::MLPv0.5.0 ncf 1542313634.055 (NCFOptimizer2.scala:361) eval_hp_num_users: 138493
:::MLPv0.5.0 ncf 1542313634.055 (NCFOptimizer2.scala:362) eval_hp_num_neg: 999
:::MLPv0.5.0 ncf 1542313634.055 (NCFOptimizer2.scala:363) eval_accuracy: {"epoch": 0, "value": 0.53503066}
2018-11-15 12:27:14 INFO  NCFOptimizer2$:368 - [Epoch 1 99385344/99385344][Iteration 1012][Wall Clock 192.498569308s] Validation time cost: 50.362536215s. Throughput is 2749921.080399267 samples / sec
:::MLPv0.5.0 ncf 1542313634.055 (NCFOptimizer2.scala:370) eval_stop
:::MLPv0.5.0 ncf 1542313634.056 (NCFOptimizer2.scala:260) input_step_train_neg_gen
:::MLPv0.5.0 ncf 1542313634.056 (NCFDataSet.scala:38) input_hp_num_neg: 4
:::MLPv0.5.0 ncf 1542313636.027 (NCFOptimizer2.scala:263) train_epoch: 1
2018-11-15 12:27:16 INFO  NCFOptimizer2$:264 - Generate epoch 2 data: 1971 ms
2018-11-15 12:29:55 INFO  NCFOptimizer2$:251 - [Epoch 2 99385344/99385344][Iteration 2023][Wall Clock 351.760206467s] loss is 0.11332626401313714, training cost 159.261637159s. Throughput is 624038.1913239905 record / second. 
:::MLPv0.5.0 ncf 1542313795.350 (NCFOptimizer2.scala:312) eval_start: 1
2018-11-15 12:29:55 INFO  NCFOptimizer2$:313 - [Epoch 2 99385344/99385344][Iteration 2023][Wall Clock 351.760206467s] Validate model...
2018-11-15 12:30:45 INFO  NCFOptimizer2$:358 - [Epoch 2 99385344/99385344][Iteration 2023][Wall Clock 351.760206467s] HitRatio@10 is (HitRatio@10: 82362.0, count: 138493, Average HitRatio@10: 0.5947015)
:::MLPv0.5.0 ncf 1542313845.681 (NCFOptimizer2.scala:359) eval_size: {"epoch": 1, "value": 138493000}
:::MLPv0.5.0 ncf 1542313845.682 (NCFOptimizer2.scala:361) eval_hp_num_users: 138493
:::MLPv0.5.0 ncf 1542313845.682 (NCFOptimizer2.scala:362) eval_hp_num_neg: 999
:::MLPv0.5.0 ncf 1542313845.682 (NCFOptimizer2.scala:363) eval_accuracy: {"epoch": 1, "value": 0.5947015}
2018-11-15 12:30:45 INFO  NCFOptimizer2$:368 - [Epoch 2 99385344/99385344][Iteration 2023][Wall Clock 351.760206467s] Validation time cost: 50.331839944s. Throughput is 2751598.196173426 samples / sec
:::MLPv0.5.0 ncf 1542313845.682 (NCFOptimizer2.scala:370) eval_stop
:::MLPv0.5.0 ncf 1542313845.683 (NCFOptimizer2.scala:260) input_step_train_neg_gen
:::MLPv0.5.0 ncf 1542313845.683 (NCFDataSet.scala:38) input_hp_num_neg: 4
:::MLPv0.5.0 ncf 1542313846.968 (NCFOptimizer2.scala:263) train_epoch: 2
2018-11-15 12:30:46 INFO  NCFOptimizer2$:264 - Generate epoch 3 data: 1287 ms
2018-11-15 12:33:25 INFO  NCFOptimizer2$:251 - [Epoch 3 99385344/99385344][Iteration 3034][Wall Clock 509.799762796s] loss is 0.10390272550284863, training cost 158.039556329s. Throughput is 628863.724427977 record / second. 
:::MLPv0.5.0 ncf 1542314005.066 (NCFOptimizer2.scala:312) eval_start: 2
2018-11-15 12:33:25 INFO  NCFOptimizer2$:313 - [Epoch 3 99385344/99385344][Iteration 3034][Wall Clock 509.799762796s] Validate model...
2018-11-15 12:34:15 INFO  NCFOptimizer2$:358 - [Epoch 3 99385344/99385344][Iteration 3034][Wall Clock 509.799762796s] HitRatio@10 is (HitRatio@10: 84263.0, count: 138493, Average HitRatio@10: 0.6084279)
:::MLPv0.5.0 ncf 1542314055.270 (NCFOptimizer2.scala:359) eval_size: {"epoch": 2, "value": 138493000}
:::MLPv0.5.0 ncf 1542314055.270 (NCFOptimizer2.scala:361) eval_hp_num_users: 138493
:::MLPv0.5.0 ncf 1542314055.270 (NCFOptimizer2.scala:362) eval_hp_num_neg: 999
:::MLPv0.5.0 ncf 1542314055.270 (NCFOptimizer2.scala:363) eval_accuracy: {"epoch": 2, "value": 0.6084279}
2018-11-15 12:34:15 INFO  NCFOptimizer2$:368 - [Epoch 3 99385344/99385344][Iteration 3034][Wall Clock 509.799762796s] Validation time cost: 50.203550789s. Throughput is 2758629.575467099 samples / sec
:::MLPv0.5.0 ncf 1542314055.271 (NCFOptimizer2.scala:370) eval_stop
:::MLPv0.5.0 ncf 1542314055.271 (NCFOptimizer2.scala:260) input_step_train_neg_gen
:::MLPv0.5.0 ncf 1542314055.272 (NCFDataSet.scala:38) input_hp_num_neg: 4
:::MLPv0.5.0 ncf 1542314056.554 (NCFOptimizer2.scala:263) train_epoch: 3
2018-11-15 12:34:16 INFO  NCFOptimizer2$:264 - Generate epoch 4 data: 1283 ms
2018-11-15 12:36:56 INFO  NCFOptimizer2$:251 - [Epoch 4 99385344/99385344][Iteration 4045][Wall Clock 669.578182524s] loss is 0.0998196532683713, training cost 159.778419728s. Throughput is 622019.8207567041 record / second. 
:::MLPv0.5.0 ncf 1542314216.390 (NCFOptimizer2.scala:312) eval_start: 3
2018-11-15 12:36:56 INFO  NCFOptimizer2$:313 - [Epoch 4 99385344/99385344][Iteration 4045][Wall Clock 669.578182524s] Validate model...
2018-11-15 12:37:46 INFO  NCFOptimizer2$:358 - [Epoch 4 99385344/99385344][Iteration 4045][Wall Clock 669.578182524s] HitRatio@10 is (HitRatio@10: 85834.0, count: 138493, Average HitRatio@10: 0.6197714)
:::MLPv0.5.0 ncf 1542314266.602 (NCFOptimizer2.scala:359) eval_size: {"epoch": 3, "value": 138493000}
:::MLPv0.5.0 ncf 1542314266.602 (NCFOptimizer2.scala:361) eval_hp_num_users: 138493
:::MLPv0.5.0 ncf 1542314266.602 (NCFOptimizer2.scala:362) eval_hp_num_neg: 999
:::MLPv0.5.0 ncf 1542314266.602 (NCFOptimizer2.scala:363) eval_accuracy: {"epoch": 3, "value": 0.6197714}
2018-11-15 12:37:46 INFO  NCFOptimizer2$:368 - [Epoch 4 99385344/99385344][Iteration 4045][Wall Clock 669.578182524s] Validation time cost: 50.212191689s. Throughput is 2758154.849280154 samples / sec
:::MLPv0.5.0 ncf 1542314266.603 (NCFOptimizer2.scala:370) eval_stop
:::MLPv0.5.0 ncf 1542314266.603 (NCFOptimizer2.scala:260) input_step_train_neg_gen
:::MLPv0.5.0 ncf 1542314266.603 (NCFDataSet.scala:38) input_hp_num_neg: 4
:::MLPv0.5.0 ncf 1542314267.949 (NCFOptimizer2.scala:263) train_epoch: 4
2018-11-15 12:37:47 INFO  NCFOptimizer2$:264 - Generate epoch 5 data: 1346 ms
2018-11-15 12:40:27 INFO  NCFOptimizer2$:251 - [Epoch 5 99385344/99385344][Iteration 5056][Wall Clock 828.771995903s] loss is 0.09737254945295197, training cost 159.193813379s. Throughput is 624304.0598781861 record / second. 
:::MLPv0.5.0 ncf 1542314427.199 (NCFOptimizer2.scala:312) eval_start: 4
2018-11-15 12:40:27 INFO  NCFOptimizer2$:313 - [Epoch 5 99385344/99385344][Iteration 5056][Wall Clock 828.771995903s] Validate model...
2018-11-15 12:41:17 INFO  NCFOptimizer2$:358 - [Epoch 5 99385344/99385344][Iteration 5056][Wall Clock 828.771995903s] HitRatio@10 is (HitRatio@10: 87200.0, count: 138493, Average HitRatio@10: 0.62963474)
:::MLPv0.5.0 ncf 1542314477.462 (NCFOptimizer2.scala:359) eval_size: {"epoch": 4, "value": 138493000}
:::MLPv0.5.0 ncf 1542314477.462 (NCFOptimizer2.scala:361) eval_hp_num_users: 138493
:::MLPv0.5.0 ncf 1542314477.462 (NCFOptimizer2.scala:362) eval_hp_num_neg: 999
:::MLPv0.5.0 ncf 1542314477.462 (NCFOptimizer2.scala:363) eval_accuracy: {"epoch": 4, "value": 0.62963474}
2018-11-15 12:41:17 INFO  NCFOptimizer2$:368 - [Epoch 5 99385344/99385344][Iteration 5056][Wall Clock 828.771995903s] Validation time cost: 50.262923856s. Throughput is 2755370.944928978 samples / sec
:::MLPv0.5.0 ncf 1542314477.463 (NCFOptimizer2.scala:370) eval_stop
:::MLPv0.5.0 ncf 1542314477.463 (NCFOptimizer2.scala:260) input_step_train_neg_gen
:::MLPv0.5.0 ncf 1542314477.463 (NCFDataSet.scala:38) input_hp_num_neg: 4
:::MLPv0.5.0 ncf 1542314478.754 (NCFOptimizer2.scala:263) train_epoch: 5
2018-11-15 12:41:18 INFO  NCFOptimizer2$:264 - Generate epoch 6 data: 1292 ms
2018-11-15 12:43:57 INFO  NCFOptimizer2$:251 - [Epoch 6 99385344/99385344][Iteration 6067][Wall Clock 987.798753493s] loss is 0.0928662299577679, training cost 159.02675759s. Throughput is 624959.8841487642 record / second. 
:::MLPv0.5.0 ncf 1542314637.835 (NCFOptimizer2.scala:312) eval_start: 5
2018-11-15 12:43:57 INFO  NCFOptimizer2$:313 - [Epoch 6 99385344/99385344][Iteration 6067][Wall Clock 987.798753493s] Validate model...
2018-11-15 12:44:48 INFO  NCFOptimizer2$:358 - [Epoch 6 99385344/99385344][Iteration 6067][Wall Clock 987.798753493s] HitRatio@10 is (HitRatio@10: 87737.0, count: 138493, Average HitRatio@10: 0.63351214)
:::MLPv0.5.0 ncf 1542314688.176 (NCFOptimizer2.scala:359) eval_size: {"epoch": 5, "value": 138493000}
:::MLPv0.5.0 ncf 1542314688.176 (NCFOptimizer2.scala:361) eval_hp_num_users: 138493
:::MLPv0.5.0 ncf 1542314688.176 (NCFOptimizer2.scala:362) eval_hp_num_neg: 999
:::MLPv0.5.0 ncf 1542314688.176 (NCFOptimizer2.scala:363) eval_accuracy: {"epoch": 5, "value": 0.63351214}
2018-11-15 12:44:48 INFO  NCFOptimizer2$:368 - [Epoch 6 99385344/99385344][Iteration 6067][Wall Clock 987.798753493s] Validation time cost: 50.34047184s. Throughput is 2751126.378794784 samples / sec
:::MLPv0.5.0 ncf 1542314688.176 (NCFOptimizer2.scala:370) eval_stop
:::MLPv0.5.0 ncf 1542314688.177 (NCFOptimizer2.scala:260) input_step_train_neg_gen
:::MLPv0.5.0 ncf 1542314688.177 (NCFDataSet.scala:38) input_hp_num_neg: 4
:::MLPv0.5.0 ncf 1542314689.437 (NCFOptimizer2.scala:263) train_epoch: 6
2018-11-15 12:44:49 INFO  NCFOptimizer2$:264 - Generate epoch 7 data: 1260 ms
2018-11-15 12:47:28 INFO  NCFOptimizer2$:251 - [Epoch 7 99385344/99385344][Iteration 7078][Wall Clock 1146.774394619s] loss is 0.08913725481501647, training cost 158.975641126s. Throughput is 625160.83153412 record / second. 
:::MLPv0.5.0 ncf 1542314848.466 (NCFOptimizer2.scala:312) eval_start: 6
2018-11-15 12:47:28 INFO  NCFOptimizer2$:313 - [Epoch 7 99385344/99385344][Iteration 7078][Wall Clock 1146.774394619s] Validate model...
2018-11-15 12:48:18 INFO  NCFOptimizer2$:358 - [Epoch 7 99385344/99385344][Iteration 7078][Wall Clock 1146.774394619s] HitRatio@10 is (HitRatio@10: 86793.0, count: 138493, Average HitRatio@10: 0.62669593)
:::MLPv0.5.0 ncf 1542314898.762 (NCFOptimizer2.scala:359) eval_size: {"epoch": 6, "value": 138493000}
:::MLPv0.5.0 ncf 1542314898.763 (NCFOptimizer2.scala:361) eval_hp_num_users: 138493
:::MLPv0.5.0 ncf 1542314898.763 (NCFOptimizer2.scala:362) eval_hp_num_neg: 999
:::MLPv0.5.0 ncf 1542314898.763 (NCFOptimizer2.scala:363) eval_accuracy: {"epoch": 6, "value": 0.62669593}
2018-11-15 12:48:18 INFO  NCFOptimizer2$:368 - [Epoch 7 99385344/99385344][Iteration 7078][Wall Clock 1146.774394619s] Validation time cost: 50.297207408s. Throughput is 2753492.8306570766 samples / sec
:::MLPv0.5.0 ncf 1542314898.763 (NCFOptimizer2.scala:370) eval_stop
:::MLPv0.5.0 ncf 1542314898.764 (NCFOptimizer2.scala:260) input_step_train_neg_gen
:::MLPv0.5.0 ncf 1542314898.764 (NCFDataSet.scala:38) input_hp_num_neg: 4
:::MLPv0.5.0 ncf 1542314900.040 (NCFOptimizer2.scala:263) train_epoch: 7
2018-11-15 12:48:20 INFO  NCFOptimizer2$:264 - Generate epoch 8 data: 1276 ms
2018-11-15 12:51:00 INFO  NCFOptimizer2$:251 - [Epoch 8 99385344/99385344][Iteration 8089][Wall Clock 1307.422495866s] loss is 0.08934171205120427, training cost 160.648101247s. Throughput is 618652.4660331518 record / second. 
:::MLPv0.5.0 ncf 1542315060.742 (NCFOptimizer2.scala:312) eval_start: 7
2018-11-15 12:51:00 INFO  NCFOptimizer2$:313 - [Epoch 8 99385344/99385344][Iteration 8089][Wall Clock 1307.422495866s] Validate model...
2018-11-15 12:51:51 INFO  NCFOptimizer2$:358 - [Epoch 8 99385344/99385344][Iteration 8089][Wall Clock 1307.422495866s] HitRatio@10 is (HitRatio@10: 87969.0, count: 138493, Average HitRatio@10: 0.6351873)
:::MLPv0.5.0 ncf 1542315111.048 (NCFOptimizer2.scala:359) eval_size: {"epoch": 7, "value": 138493000}
:::MLPv0.5.0 ncf 1542315111.049 (NCFOptimizer2.scala:361) eval_hp_num_users: 138493
:::MLPv0.5.0 ncf 1542315111.049 (NCFOptimizer2.scala:362) eval_hp_num_neg: 999
:::MLPv0.5.0 ncf 1542315111.049 (NCFOptimizer2.scala:363) eval_accuracy: {"epoch": 7, "value": 0.6351873}
2018-11-15 12:51:51 INFO  NCFOptimizer2$:368 - [Epoch 8 99385344/99385344][Iteration 8089][Wall Clock 1307.422495866s] Validation time cost: 50.306564174s. Throughput is 2752980.6949443286 samples / sec
:::MLPv0.5.0 ncf 1542315111.049 (NCFOptimizer2.scala:370) eval_stop
:::MLPv0.5.0 ncf 1542315111.049 (NeuralCFexample.scala:507) eval_target: 0.635
:::MLPv0.5.0 ncf 1542315111.049 (NeuralCFexample.scala:509) run_stop: {"success": true}
:::MLPv0.5.0 ncf 1542315111.083 (NeuralCFexample.scala:234) run_final
Finish training in 1786 seconds
ENDING TIMING RUN AT 2018-11-15 12:51:51 PM
RESULT,recommendation,1542313319,1792,rpremsee,2018-11-15 12:21:59 PM
